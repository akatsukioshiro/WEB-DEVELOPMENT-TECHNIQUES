<!DOCTYPE html>
<body>

<div id="d">
DIV
</div>
</body>
<script>
var k=0;
var count=0;
window.addEventListener("keydown",function(e){k=e.which || e.keyCode;});
window.addEventListener("keyup",function(e){k=0;});

document.getElementById("d").addEventListener("click",function(event)
{
var a=document.createElement("SA");
a.id="SA"+count;
count+=1;
a.addEventListener("click",function(event)
{
if (event.detail === 2 && (k===82 || k===114)) 
{var ee=document.getElementById(a.id);
if(ee.style.resize!=="none")
{
window.getSelection().removeAllRanges();
ee.style.resize="none";
ee.style.overflow="none";
}
else
{
window.getSelection().removeAllRanges();
ee.style.resize="both";
ee.style.overflow="auto";
}}
else if(event.detail === 2)
{
var ee=document.getElementById(a.id);
if(ee.getAttribute("contenteditable")==="true" || ee.getAttribute("contenteditable")===""){ee.blur();window.getSelection().removeAllRanges();ee.setAttribute("contenteditable","false");}
else {ee.setAttribute("contenteditable","true");ee.focus();}
}
});
a.style.height="100px";
a.style.width="100px";
a.style.display="block";
a.style.resize="both";
a.style.background="red";
a.style.overflow="auto";
document.body.appendChild(a);
});

</script>